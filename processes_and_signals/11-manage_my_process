#!/usr/bin/env bash
# manage my process
PIDFILE="/var/run/my_process.pid"; SCRIPT="./manage_my_process"; case "$1" in start) "$SCRIPT"& echo $!>"$PIDFILE"; echo "manage_my_process started";; stop) [ -f "$PIDFILE" ]&&kill "$(cat "$PIDFILE")" 2>/dev/null; rm -f "$PIDFILE"; echo "manage_my_process stopped";; restart) [ -f "$PIDFILE" ]&&kill "$(cat "$PIDFILE")" 2>/dev/null; rm -f "$PIDFILE"; "$SCRIPT"& echo $!>"$PIDFILE"; echo "manage_my_process restarted";; *) echo "Usage: manage_my_process {start|stop|restart}"; exit 1;; esac

